<?xml version="1.0" encoding="UTF-8"?>
<!-- #11. mapper 기본 설정 -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<!-- #12. 루트 엘리먼트 및 네임스페이스 설정하기(이 네임스페이스의 이름은 프로젝트 전체 내에서 반드시 고유해야만 한다.) --> 
<mapper namespace="boss">
	<update id="coinUpdate" parameterType="java.util.HashMap">
		update tbl_User set userPoint = userPoint + #{userPoint}
		where userstatus = 0 and userSort = 1 and userSeq = #{userSeq}
	</update>
	
	<update id="bannBuyUpdate" parameterType="java.util.HashMap">
		update tbl_User set userPoint = userPoint - 1000000
		where userstatus = 0 and userSort = 1 and userSeq = #{userSeq}
	</update>
	
	<insert id="bannInsert" parameterType="java.util.HashMap">
		insert into tbl_restaurant_content(restSeq, userSeq, contentSeq, contentBuyDate, contentLimit, contentStatus) 
		values(#{restSeq}, #{userSeq},'1', default , sysdate+30, default)
	</insert>
	
	<update id="linkBuyUpdate" parameterType="java.util.HashMap">
		update tbl_User set userPoint = userPoint - 500000
		where userstatus = 0 and userSort = 1 and userSeq = #{userSeq}
	</update>
	
	<insert id="linkInsert" parameterType="java.util.HashMap">
		insert into tbl_restaurant_content(restSeq, userSeq, contentSeq, contentBuyDate, contentLimit, contentStatus) 
		values(#{restSeq}, #{userSeq},'2', default , sysdate+30, default)
	</insert>
	
	<update id="recomBuyUpdate" parameterType="java.util.HashMap">
		update tbl_User set userPoint = userPoint - 300000
		where userstatus = 0 and userSort = 1 and userSeq = #{userSeq}
	</update>
	
	<insert id="recomInsert" parameterType="java.util.HashMap">
		insert into tbl_restaurant_content(restSeq, userSeq, contentSeq, contentBuyDate, contentLimit, contentStatus) 
		values(#{restSeq}, #{userSeq},'3', default , sysdate+30, default)
	</insert>
</mapper>